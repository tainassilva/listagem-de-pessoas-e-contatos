<div class="text-center mt-5 mb-5">
  <h2>Controle de Pessoas e seus Contatos</h2>
</div>

<div class="container d-flex align-items-center justify-content-center">
  <!-- Spinner de carregamento -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="spinner-border text-primary" role="status"></div>
  </div>

  <!-- Tabela de pessoas -->
  <table *ngIf="!isLoading" class="table">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Nome</th>
        <th scope="col">CEP</th>
        <th scope="col">Endereço</th>
        <th scope="col">Numero</th>
        <th scope="col">Cidade</th>
        <th scope="col">UF</th>
        <th scope="col">Celular</th>

        <th scope="col">
          <button class="btn btn-link p-0 border-0 text-primary" [routerLink]="['/pessoas/add']">
            <i class="fa-solid fa-square-plus fa-2x"></i>
          </button>
        </th>
      </tr>
    </thead>
    <tbody class="table-group-divider">
      <tr *ngFor="let pessoa of pessoas">
        <td>{{ pessoa.id }}</td>
        <td>{{ pessoa.nome }}</td>
        <td>{{ pessoa.cep }}</td>
        <td>{{ pessoa.endereco }}</td>
        <td>{{ pessoa.numeroCasa }}</td>
        <td>{{ pessoa.cidade }}</td>
        <td>{{ pessoa.uf }}</td>
        <td>{{ retornaApenasOCelular(pessoa) }}

        <!-- Botões de editar e excluir -->
        <td>
          <button class="btn btn-link p-0 border-0 me-3" [routerLink]="['/pessoas/edit', pessoa.id]">
            <i class="fa-solid fa-pen-to-square fa-lg"></i>
          </button>
          <button class="btn btn-link p-0 border-0 text-danger" (click)="isDelete(pessoa.id ?? 0)">
            <i class="fa-solid fa-trash fa-lg"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<app-footer />
